define(["jquery","util","cookie"],function(o,e){var c=(new e.Validate).init({form:o("#formLogin")}),i=!1,n=!1,s=o.cookie("userTel"),r=o("#groupLogin");o("#userTel").val("undefined"!=s?s:""),(n=!!s)?o("#rememberPwd").addClass("check"):o("#rememberPwd").removeClass("check"),o("#userTel").on("input",function(){o(this).val(o(this).val().replace(/\D/g,""))}),o("#userPwd").keypress(function(e){13===e.keyCode&&r.click()}),o("#rememberPwd").on("click",function(){(n=!n)?o(this).addClass("check"):o(this).removeClass("check")}),r.click(function(){var e=c.formCheck();!i&&e&&o.ajax({type:"POST",url:"/login/do",contentType:"application/json;charset=utf-8",data:JSON.stringify(e),beforeSend:function(){i=!0},success:function(e){if(0===e.code)switch(n?o.cookie("userTel",o("#userTel").val(),{expires:7}):o.removeCookie("userTel"),e.data.open_confirm_status){case 0:window.location.href="/user/account-unfinish";break;case 1:window.location.href="/user/account-apply";break;case 2:console.log("111"),window.location.href="/user/account-finish";break;case 3:window.location.href="/user/account-failure"}else 902===e.code?window.location.href="/500":c.showTip("userTel",e.msg)},complete:function(){i=!1}})})});