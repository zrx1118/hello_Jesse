<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type="text/javascript" src="../internal.js"></script>
    <script type="text/javascript" src="../../../jquery-1.7.2.min.js"></script>
    <style type="text/css">
        .section {
            text-align: center;
            margin-top: 10px;
        }
        .section input {
            margin-left: 5px;
            width: 70px;
        }
        .section1 {
            text-align: center;
            margin-top: 4px;
        }
        .section1 div {
            margin: 2px;
        }
        .section1 input {
            margin-left: 5px;
            width: 50px;
        }
    </style>
</head>
<body>
<div class="section">
    <span><var id="lang_tdBkColor"></var></span>
    <input type="text" id="J_tone"/>
</div>
<div class="section1">
    <div>
        <span><var id="lang_tdpadding_top"></var></span>
        <select id="padding_top">
            <option value="0px">0px</option>
            <option value="1px">1px</option>
            <option value="2px">2px</option>
            <option value="3px">3px</option>
            <option value="4px">4px</option>
            <option value="5px">5px</option>
            <option value="6px">6px</option>
            <option value="7px">7px</option>
            <option value="8px">8px</option>
            <option value="9px">9px</option>
            <option value="10px">10px</option>

        </select>
    </div>
    <div>
        <span><var id="lang_tdpadding_rigth"></var></span>
        <select id="padding_rigth">
            <option value="0px">0px</option>
            <option value="1px">1px</option>
            <option value="2px">2px</option>
            <option value="3px">3px</option>
            <option value="4px">4px</option>
            <option value="5px">5px</option>
            <option value="6px">6px</option>
            <option value="7px">7px</option>
            <option value="8px">8px</option>
            <option value="9px">9px</option>
            <option value="10px">10px</option>
        </select>
    </div>
    <div>
        <span><var id="lang_tdpadding_bottom"></var></span>
        <select id="padding_bottom">
            <option value="0px">0px</option>
            <option value="1px">1px</option>
            <option value="2px">2px</option>
            <option value="3px">3px</option>
            <option value="4px">4px</option>
            <option value="5px">5px</option>
            <option value="6px">6px</option>
            <option value="7px">7px</option>
            <option value="8px">8px</option>
            <option value="9px">9px</option>
            <option value="10px">10px</option>
        </select>
    </div>
    <div>
        <span><var id="lang_tdpadding_left"></var></span>
        <select id="padding_left">
            <option value="0px">0px</option>
            <option value="1px">1px</option>
            <option value="2px">2px</option>
            <option value="3px">3px</option>
            <option value="4px">4px</option>
            <option value="5px">5px</option>
            <option value="6px">6px</option>
            <option value="7px">7px</option>
            <option value="8px">8px</option>
            <option value="9px">9px</option>
            <option value="10px">10px</option>
        </select>
    </div>
</div>
<script type="text/javascript">
    var pd_top = $("#padding_top"),pd_left = $("#padding_left"),pd_rigth = $("#padding_rigth"),pd_bottom = $("#padding_bottom");
    var tone = $G("J_tone"),
        colorPiker = new UE.ui.ColorPicker({
            editor:editor
        }),
        colorPop = new UE.ui.Popup({
            editor:editor,
            content:colorPiker
        });
    domUtils.on(tone, "click", function () {
        colorPop.showAnchor(tone);
    });
    domUtils.on(document, 'mousedown', function () {
        colorPop.hide();
    });
    colorPiker.addListener("pickcolor", function () {
        tone.value = arguments[1];
        colorPop.hide();
    });
    colorPiker.addListener("picknocolor", function () {
        tone.value="";
        colorPop.hide();
    });
    dialog.onok=function(){
        var padding = pd_top.val() + " " + pd_rigth.val() + " " + pd_bottom.val() + " " + pd_left.val();
        editor.execCommand("edittd",tone.value, padding);
    };

    var start = editor.selection.getStart(),
        cell = start && domUtils.findParentByTagName(start, ["td", "th"], true);
    if(cell){
        var color = domUtils.getComputedStyle(cell,'background-color');
        if(/^#/.test(color)){
            tone.value = color
        }
        var padding = domUtils.getComputedStyle(cell,'padding');
        var array = padding.split(" ");
        if(array.length == 1){
            pd_top.val(array[0]);
            pd_rigth.val(array[0]);
            pd_bottom.val(array[0]);
            pd_left.val(array[0]);
        }else if(array.length == 2){
            pd_top.val(array[0]);
            pd_rigth.val(array[1]);
            pd_bottom.val(array[0]);
            pd_left.val(array[1]);
        }else if(array.length == 3){
            pd_top.val(array[0]);
            pd_rigth.val(array[1]);
            pd_bottom.val(array[3]);
            pd_left.val(array[1]);
        }else{
            pd_top.val(array[0]);
            pd_rigth.val(array[1]);
            pd_bottom.val(array[3]);
            pd_left.val(array[1]);
        }
    }

</script>
</body>
</html>